const BASE_URL="http://localhost:5000";let API_CATEGORIES_LIST=BASE_URL+"/categories",API_ORDERS_LIST=BASE_URL+"/orders";
const client=[{id:"client_1",name:"Tetiana Tsehychko",email:"tanchikqp@gmail.com",phone:"+380999095555"}];
let data=[];async function getData(){await fetch(API_CATEGORIES_LIST).then(e=>e.json()).then(e=>{data=e})}getData();let pageArr=["mainPage","category","allProductPage","about","contacts","oneItem","personal_page","pageShoppingCart","confirm_window","order"];const mainPage=document.querySelector("#mainPage"),categoryBlock=document.querySelector("#category"),about=document.querySelector("#about"),contacts=document.querySelector("#contacts"),userPage=document.querySelector("#personal_page"),shoppingCart=document.getElementById("pageShoppingCart"),salesPage=document.getElementById("allProductPage");function pageCleanup(){for(let e=0;e<pageArr.length;e++)document.getElementById(pageArr[e]).classList.add("hidden")}document.getElementById("allSaleBtn").addEventListener("click",()=>{pageCleanup(),salesPage.classList.remove("hidden")}),document.querySelector("#aboutBtn").addEventListener("click",()=>{pageCleanup(),about.classList.remove("hidden")}),document.querySelector("#contactsBtn").addEventListener("click",()=>{pageCleanup(),contacts.classList.remove("hidden"),document.querySelector("#form_contacts_person").classList.remove("hidden"),document.querySelector(".message_contacts").classList.add("hidden")}),document.querySelector("#main_page_btn").addEventListener("click",()=>{pageCleanup(),mainPage.classList.remove("hidden")}),document.querySelector("#user_basket").addEventListener("click",()=>{pageCleanup(),shoppingCart.classList.remove("hidden"),showShoppingCart()}),document.querySelector("#user_page").addEventListener("click",()=>{pageCleanup(),userPage.classList.remove("hidden"),getDataOrderArr()});
let intervalId;document.querySelectorAll(".list").forEach(e=>{e.addEventListener("mouseenter",e=>{e=e.currentTarget.dataset.path;const t=document.querySelector(`[data-target=${e}]`),a=document.querySelector("#up"),s=document.querySelector("#down");document.querySelectorAll(".menu_item").forEach(e=>{t.classList.contains("open")||(t.classList.add("active_menu"),a.classList.add("active_mod"),s.classList.add("hidden"),s.classList.remove("active_mod"),intervalId=setTimeout(()=>{t.classList.add("open")},0))}),document.querySelectorAll(".menu_item").forEach(e=>{e.addEventListener("mouseleave",e=>{clearTimeout(intervalId),t.classList.remove("active_menu"),s.classList.add("active_mod"),a.classList.remove("active_mod"),intervalId=setTimeout(()=>{t.classList.remove("open")},0)})})})});
"use strict";const slider=document.querySelector(".slider_block"),arrImg=Array.from(slider.children);arrImg.forEach(function(e,t){0!==t?e.classList.add("hidden"):e.classList.add("active"),e.dataset.index=t});let interval=setInterval(showSlider,7e3,"next");function addHidden(e){e.classList.add("hidden"),e.classList.remove("active")}function addAcrive(e){e.classList.add("active"),e.classList.remove("hidden")}function showSlider(e){var t=document.querySelector(".active"),r=Number(t.dataset.index);addHidden(t);let d;"next"===e?d=r+1===arrImg.length?0:r+1:"previous"===e&&(d=0===r?arrImg.length-1:r-1),addAcrive(slider.querySelector(`[data-index='${d}']`))}document.querySelector("#btn_next").addEventListener("click",function(){clearInterval(interval),showSlider("next"),interval=setInterval(showSlider,7e3,"next")}),document.querySelector("#btn_previous").addEventListener("click",function(){clearInterval(interval),showSlider("previous"),interval=setInterval(showSlider,7e3,"next")});
function createElement(e,t,n,r,a){var i=document.createElement(e);if(t)for(var s in t)"className"===s?i.setAttribute("class",t[s]):i.setAttribute(s,t[s]);if(n)for(var c in n)i.addEventListener(c,n[c]);return i.textContent=r,a.appendChild(i),i}
let categoryIndex=0,productIndex=0,countProduct=0;function showProductPage(e){window.scrollTo(0,0);pageCleanup(),document.getElementById("oneItem").classList.remove("hidden"),document.getElementById("response-list").innerHTML="",categoryIndex=Number(e.target.getAttribute("data-category")),productIndex=Number(e.target.getAttribute("data-product"));var e=document.getElementById("addToShoppingCart"),t=(e.removeEventListener("click",addToShoppingCart),data[categoryIndex].products[productIndex]);0===t.availability?(e.classList.add("notButton"),e.classList.remove("button"),e.innerHTML="is expected"):(e.addEventListener("click",addToShoppingCart),e.classList.add("button"),e.classList.remove("notButton"),e.innerHTML="Buy"),breadcrumbs(categoryIndex,productIndex,["category","mainPage","oneItem","allProductPage"]),characteristic(categoryIndex,productIndex),responses(categoryIndex,productIndex)}function addToShoppingCart(){var e=data[categoryIndex].products[productIndex],t=document.getElementById("numberOfGoods").value;let n;n=!0===e.sale?(r=e.discount,Math.round(e.price-e.price*r/100)):e.price;const a={img:e.main_images,name:e.name,diagonal:e.diagonal,price:n,color:e.color,memory:e.memory,processor:e.processor,main_images:e.main_images,image_arr:e.image_arr,availability:e.availability,value:Number(t),sum:t*n};var r=JSON.parse(localStorage.getItem("orderArr"))||[];let o=void 0;0===r.length?r.push(a):r.forEach(function(e,t,n){e.name===a.name&&(o=t)}),null==o?0!==countProduct&&r.push(a):(r[o].value+=Number(t),r[o].sum=r[o].value*r[o].price),countProduct++,localStorage.setItem("orderArr",JSON.stringify(r)),showShoppingCart()}function breadcrumbs(e,t,n){document.getElementById("breadcrumbsOne").addEventListener("click",()=>{for(let e=0;e<n.length;e++)document.getElementById(n[e]).classList.add("hidden");document.getElementById("mainPage").classList.remove("hidden")});var a=document.getElementById("breadcrumbsTwo");a.innerHTML=data[e].name,a.setAttribute("data-category",e),a.addEventListener("click",showProducts),document.getElementById("breadcrumbsThree").innerHTML=data[e].products[t].name}function characteristic(t,n){var e,a=data[t].products[n],r=a.discount,o=document.getElementById("priceSpan"),d=(o.innerHTML="",document.getElementById("numberOfGoods").value=1,document.getElementById("listCharacteristic")),i=(d.innerHTML="",document.getElementById("imgOneItem").setAttribute("src",a.main_images),document.getElementById("titleOneItem").innerHTML=a.name,document.getElementById("priceOneItem"));for(e in i.classList.contains("oneItem-price__sale")&&i.classList.remove("oneItem-price__sale"),1!=a.sale?i.innerHTML=a.price+" UAH":(r=Math.round(a.price-a.price*r/100),i.innerHTML=a.price+" UAH",i.classList.add("oneItem-price__sale"),createElement("p",{className:"oneItem__sale"},null,r+"UAH",o)),a)"main_images"!==e&&"image_arr"!==e&&"availability"!==e&&"sale"!==e&&"discount"!==e&&createElement("li",{className:"oneItem-information__feature-li"},null,e+" : "+a[e],d);var i=document.getElementById("oneItemImg"),l=(createElement("div",{id:"allPhoto"},null,null,i),document.getElementById("allPhoto")),c=(l.innerHTML="",a.image_arr);let m=0;for(let e=0;e<c.length;e++)createElement("img",{className:"oneItem__allPhoto","data-photo":m,src:c[e]},{click:s},null,l),m++;function s(e){e=e.target.getAttribute("data-photo");document.getElementById("imgOneItem").setAttribute("src",data[t].products[n].image_arr[e])}}function responses(){var t=document.getElementById("response-list"),e=(t.innerHTML="",document.getElementsByClassName("oneItem-informationdiv")),n=data[categoryIndex].products[productIndex].name;const o=JSON.parse(localStorage.getItem(n))||[];document.getElementById("responseBtn").addEventListener("click",function(){document.getElementById("modal").classList.remove("modal-hidden"),document.getElementById("saveReviewBtn").addEventListener("click",i),document.getElementById("closeModal").addEventListener("click",closeModal)});n=document.getElementsByClassName("oneItem-title");let a=0,r=0;for(let e=0;e<o.length;e++){a++,r+=Number(o[e].rating);var d=createElement("div",{id:"responsive"+e,className:"oneResponsive"},null,null,t);createElement("p",{id:"responsiveName"},null,o[e].name,d),createElement("p",{id:"responsiveDate"},null,o[e].data,d),createElement("p",{id:"responsiveRating"},null,o[e].rating+"/10",d),createElement("p",{id:"responsiveContent"},null,o[e].review,d)}0==a?(n[1].textContent="oops, there are no reviews...",n[1].classList.add("notResponse")):(n[1].textContent="Reviews:",n[1].classList.remove("notResponse"),n[1].classList.add("oneItem-title"));n=(r/a).toFixed(2);function i(){var e=validName(),t=validRating(),n=new Date,a=data[categoryIndex].products[productIndex].name,r=document.getElementById("reviewForm").value;e&&t&&(e={name:e,rating:t,review:r,data:`${n.getDate()}.${n.getMonth()+1}.`+n.getFullYear()},o.push(e),localStorage.setItem(a,JSON.stringify(o)),document.getElementById("response-list").innerHTML="",responses(),closeModal())}createElement("p",{id:"rating"},null,null,e[0]),0<a?document.getElementById("rating").innerHTML=`Average rating: ${n}/10`:document.getElementById("rating").innerHTML=""}function validName(){var e=document.getElementById("nameForm").value,t=e.match(/([a-zA-Z]{1,}\s[a-zA-Z]{1,}|[a-zA-Z]{1,})/);if(t)return t[0];e.innerHTML="",document.getElementById("nameForm").placeholder="error"}function validRating(){var e=document.getElementById("ratingForm");if(e.value&&!(10<e.value))return e.value;e.innerHTML="",e.placeholder="error"}function closeModal(){document.getElementById("modal").classList.add("modal-hidden")}
document.getElementById("allSaleBtn").addEventListener("click",showAllSaleProduct),document.getElementById("buttonSaveFilter").addEventListener("click",checkedCheckBoxes),document.getElementById("filters-minPriceBtn").oninput=function(){var e=document.getElementById("filters-minPriceBtn");document.getElementById("filters-minPriceValue").value=e.value},document.getElementById("filters-maxPriceBtn").oninput=function(){var e=document.getElementById("filters-maxPriceBtn");document.getElementById("filters-maxPriceValue").value=e.value};const percent="20%";function showAllSaleProduct(){removeSalesSort("ascendingAllProducts","descendingAllProducts"),document.getElementById("allProducts").textContent="",document.getElementById("allProductPage").classList.remove("hidden"),document.getElementById("filtersAvailabilityBtn").className="hidden",document.getElementById("allProductHeader").className="hidden",document.getElementById("saleHeader").classList.remove("hidden"),document.getElementById("saleHeader").className="allProductSalePage-title";var t=["category","mainPage","oneItem"];for(let e=0;e<t.length;e++)document.getElementById(t[e]).classList.add("hidden");const n=document.getElementById("allProducts");let d=0,c=0,s=0;showFilters(),fetch(API_CATEGORIES_LIST).then(e=>e.json()).then(e=>{data=e.slice(0);for(let t=0;t<data.length;t++){for(let e=0;e<data[t].products.length;e++){var l,a;!0===data[t].products[e].sale&&(createElement("div",{id:"card"+d,className:data[t].name,"data-priceAllProducts":data[t].products[e].price},null,null,n),l=document.getElementById("card"+d),a=Math.round(data[t].products[e].price-data[t].products[e].price/100*parseFloat(percent)),l.classList.add("allProducts-card"),l.classList.add("showAllProducts"),l.classList.add(data[t].products[e].color),createElement("span",{className:"allProductName"},null,data[t].products[e].name,l),createElement("img",{id:"img"+d,src:data[t].products[e].main_images,className:"allProductImg"},null,null,l),createElement("span",{id:data[t].products[e].price,className:"allSalePrice"},null,data[t].products[e].price+"UAH",l),createElement("span",{id:(data[t].products[e].price,"discount"),className:"discount"},null,"Discount: "+percent,l),createElement("span",{id:data[t].products[e].price,className:"allSaleWithDiscout"},null,a+"UAH",l),createElement("span",{id:"availability"+d,className:"allProductAvailability"},null,null,l),createElement("button",{type:"button",className:"allProduct_btn","data-category":c,"data-product":s},{click:saleShowProductPage},"explore",l)),d++,s++}c++,s=0}})}function removeSalesSort(e,t){e=document.getElementById(e),t=document.getElementById(t);e.classList.contains("activ_btn_sort")&&e.classList.remove("activ_btn_sort"),t.classList.contains("activ_btn_sort")&&t.classList.remove("activ_btn_sort")}function checkedCheckBoxes(){removeSalesSort("ascendingAllProducts","descendingAllProducts");var t=document.getElementsByClassName("allSales-card");for(let e=0;e<t.length;e++)t[e].classList.remove("showAllProducts"),t[e].classList.remove("selectedColor"),t[e].classList.add("hiddenAllProducts");var e=document.getElementsByClassName("filters-form__input"),l=e.length,a=findFilter(e,["PHONES","LAPTOPS","WATCHES","TABLETS"],l);for(let e=0;e<a.length;e++){var n=document.getElementsByClassName(a[e]);for(let e=0;e<n.length;e++)n[e].classList.remove("hiddenAllProducts"),n[e].classList.add("showAllProducts")}var e=document.getElementsByClassName("filters-form__color"),l=e.length,d=findFilter(e,["Black","Silver","White","Golden","Pink","Purple","Green","Gray","Blue","Yellow","Red","Chocolate","Brown"],l),c=document.getElementsByClassName("showAllProducts");for(let t=0;t<c.length;t++)for(let e=0;e<d.length;e++)c[t].classList.contains(d[e])&&c[t].classList.add("selectedColor");for(let t=0;t<c.length;t++)for(let e=0;e<d.length;e++)c[t].classList.contains("selectedColor")||c[t].classList.add("hiddenAllProducts");var s=document.getElementById("filters-minPriceValue"),r=[];if(0!=s.value){for(let e=0;e<t.length;e++)t[e].classList.contains("selectedColor")&&r.push(t[e]);for(let e=0;e<r.length;e++)Number(r[e].childNodes[2].id)<Number(s.value)&&(r[e].classList.add("hiddenAllProducts"),r[e].classList.remove("selectedColor"))}var o=document.getElementById("filters-maxPriceValue"),i=[];if(0!=o.value){console.log(o.value);for(let e=0;e<t.length;e++)t[e].classList.contains("selectedColor")&&i.push(t[e]);for(let e=0;e<i.length;e++)Number(i[e].childNodes[2].id)>Number(o.value)&&(console.log(i[e].childNodes[2].id),i[e].classList.add("hiddenAllProducts"),i[e].classList.remove("selectedColor"))}}let categoryIndexSale=0,productIndexSale=0;function saleShowProductPage(e){window.scrollTo(0,0);var t=["category","mainPage","oneItem","allProductPage"];for(let e=0;e<t.length;e++)document.getElementById(t[e]).classList.add("hidden");document.getElementById("oneItem").classList.remove("hidden"),document.getElementById("response-list").innerHTML="",categoryIndex=e.target.getAttribute("data-category"),productIndex=e.target.getAttribute("data-product"),document.getElementById("addToShoppingCart").addEventListener("click",addToShoppingCart),breadcrumbsForSale(categoryIndex,productIndex,t),saleCharacteristic(categoryIndex,productIndex),responses(categoryIndex,productIndex)}function saleCharacteristic(e,t){var l,a=data[e].products[t],n=document.getElementById("listCharacteristic"),d=Math.round(a.price-a.price/100*parseFloat(percent));for(l in n.innerHTML="",document.getElementById("imgOneItem").setAttribute("src",a.main_images),document.getElementById("titleOneItem").innerHTML=a.name,document.getElementById("priceOneItem").innerHTML=d+" UAH",a)"price"===l?createElement("li",{className:"oneItem-information__feature-li"},null,l+" : "+d,n):"main_images"!==l&&"image_arr"!==l&&"availability"!==l&&createElement("li",{className:"oneItem-information__feature-li"},null,l+" : "+a[l],n);var e=document.getElementById("oneItemImg"),c=(createElement("div",{id:"allPhoto"},null,null,e),document.getElementById("allPhoto")),s=(c.innerHTML="",a.image_arr);let r=0;for(let e=0;e<s.length;e++)createElement("img",{className:"oneItem__allPhoto","data-photo":r,src:s[e]},{click:o},null,c),r++;function o(e){e=e.target.getAttribute("data-photo");document.getElementById("imgOneItem").setAttribute("src",data[categoryIndex].products[productIndex].image_arr[e])}}function breadcrumbsForSale(e,t,l){document.getElementById("breadcrumbsOne").addEventListener("click",()=>{for(let e=0;e<l.length;e++)document.getElementById(l[e]).classList.add("hidden");document.getElementById("mainPage").classList.remove("hidden")});var a=document.getElementById("breadcrumbsTwo");a.innerHTML=data[e].name,a.setAttribute("data-category",e),a.addEventListener("click",showAllSaleProduct),document.getElementById("breadcrumbsThree").innerHTML=data[e].products[t].name}
const allProductBtn=document.getElementById("allProductBtn"),buttonSaveFilter=document.getElementById("buttonSaveFilter"),filtersAvailabilityBtn=document.getElementById("filtersAvailabilityBtn"),allProductHeader=document.getElementById("allProductHeader");let modalOFWindow=document.getElementById("modalWindow");function showAllProduct(){modalOFWindow.classList.add("hidden"),removeSort("ascendingAllProducts","descendingAllProducts","filtersAvailabilityBtn"),document.getElementById("allProducts").textContent="",pageCleanup(),document.getElementById("allProductPage").classList.remove("hidden"),allProductHeader.classList.remove("hidden"),allProductHeader.className="allProductPage-title",document.getElementById("saleHeader").className="hidden",filtersAvailabilityBtn.classList.remove("hidden"),filtersAvailabilityBtn.className="filter-availabilityBtn";var l=document.getElementById("allProducts");let s=0,a=0,n=0,c;showFilters();for(let t=0;t<data.length;t++){for(let e=0;e<data[t].products.length;e++){c=0===data[t].products[e].availability?"is expected":"on sale";var d,r=data[t].products[e].discount,i=(createElement("div",{id:"card"+s,className:data[t].name,"data-priceAllProducts":data[t].products[e].price},null,null,l),document.getElementById("card"+s)),r=(i.classList.add("allProducts-card"),i.classList.add("showAllProducts"),i.classList.add(data[t].products[e].color),createElement("span",{className:"allProductName"},null,data[t].products[e].name,i),createElement("img",{id:"img"+s,src:data[t].products[e].main_images,className:"allProductImg"},null,null,i),!0===data[t].products[e].sale?(d=Math.round(data[t].products[e].price-data[t].products[e].price*r/100),createElement("span",{className:"img_sale"},null,null,i).innerHTML=`<svg id="sale_img"xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>
                                    <span class="text_sale">-${r}%</span>`,createElement("span",{id:d,className:"allProductPrice _mod_discount"},null,d+" UAH",i)):createElement("span",{id:data[t].products[e].price,className:"allProductPrice"},null,data[t].products[e].price+" UAH",i),createElement("span",{id:"availability"+s,className:"allProductAvailability"},null,c,i),createElement("button",{type:"button",className:"allProduct_btn","data-category":a,"data-product":n},{click:showProductPage},"explore",i),document.getElementById("card"+s));"is expected"===c&&(document.getElementById("availability"+s).classList.add("filter-notAviability"),r.classList.add("allProducts-card__notActive")),s++,n++}a++,n=0}}function showFilters(){var t=document.getElementById("filtersType"),l=(t.innerHTML="",["PHONES","LAPTOPS","WATCHES","TABLETS","ALL_PRODUCTS"]);for(let e=0;e<l.length;e++){var s=createElement("label",{className:"filters-form__label"},null,l[e],t);createElement("input",{className:"filters-form__input",name:"typeProduct",type:"checkbox",value:l[e]},null,null,s)}var a=document.getElementById("fieldsetColor"),n=(a.innerHTML="",["Black","Silver","White","Gold","Pink","Purple","Green","Gray","Blue","Yellow","Red","Chocolate","Brown","All_Color"]);for(let e=0;e<n.length;e++){var c=createElement("label",{className:"filters-form__label"},null,n[e],a);createElement("input",{className:"filters-form__color",name:"colorProduct",type:"checkbox",value:n[e]},null,null,c)}}function getCheckedCheckBoxes(){removeSort("ascendingAllProducts","descendingAllProducts","filtersAvailabilityBtn");var t=document.getElementsByClassName("allProducts-card");for(let e=0;e<t.length;e++)t[e].classList.remove("showAllProducts"),t[e].classList.remove("selectedColor"),t[e].classList.add("hiddenAllProducts");var e=document.getElementsByClassName("filters-form__input"),l=findFilter(e,["PHONES","LAPTOPS","WATCHES","TABLETS"],e.length);for(let e=0;e<l.length;e++){var s=document.getElementsByClassName(l[e]);for(let e=0;e<s.length;e++)s[e].classList.remove("hiddenAllProducts"),s[e].classList.add("showAllProducts")}var e=document.getElementsByClassName("filters-form__color"),a=findFilter(e,["Black","Silver","White","Golden","Pink","Purple","Green","Gray","Blue","Yellow","Red","Chocolate","Brown"],e.length),n=document.getElementsByClassName("showAllProducts");for(let t=0;t<n.length;t++)for(let e=0;e<a.length;e++)n[t].classList.contains(a[e])&&n[t].classList.add("selectedColor");for(let t=0;t<n.length;t++)for(let e=0;e<a.length;e++)n[t].classList.contains("selectedColor")||n[t].classList.add("hiddenAllProducts");var c=document.getElementById("filters-minPriceValue"),d=[];if(0!=c.value){for(let e=0;e<t.length;e++)t[e].classList.contains("selectedColor")&&d.push(t[e]);for(let e=0;e<d.length;e++)Number(d[e].childNodes[2].id)<Number(c.value)&&(d[e].classList.add("hiddenAllProducts"),d[e].classList.remove("selectedColor"))}var r=document.getElementById("filters-maxPriceValue"),i=[];if(0!=r.value){console.log(r.value);for(let e=0;e<t.length;e++)t[e].classList.contains("selectedColor")&&i.push(t[e]);for(let e=0;e<i.length;e++)Number(i[e].childNodes[2].id)>Number(r.value)&&(console.log(i[e].childNodes[2].id),i[e].classList.add("hiddenAllProducts"),i[e].classList.remove("selectedColor"))}}function findFilter(t,l,e){let s=0,a=[];for(let e=0;e<t.length;e++)if(t[e].checked)if("ALL_PRODUCTS"==t[e].value||"All_Color"==t[e].value)for(let e=0;e<l.length;e++)a.push(l[e]);else a.push(t[e].value);else s++;return a=s===e?l:a}function checkAvailability(){var e=document.getElementById("filtersAvailabilityBtn");if(e.classList.contains("activ_btn_sort")){e.classList.remove("activ_btn_sort");var t=document.getElementsByClassName("notAvailability");for(let e=0;e<t.length;e++)t[e].classList.remove("hiddenAllProducts")}else{e.classList.add("activ_btn_sort");var l=document.getElementsByClassName("allProducts-card__notActive");for(let e=0;e<l.length;e++)l[e].classList.add("hiddenAllProducts"),l[e].classList.add("notAvailability")}}function removeSort(e,t,l){e=document.getElementById(e),t=document.getElementById(t),l=document.getElementById(l);e.classList.contains("activ_btn_sort")&&e.classList.remove("activ_btn_sort"),t.classList.contains("activ_btn_sort")&&t.classList.remove("activ_btn_sort"),l.classList.contains("activ_btn_sort")&&l.classList.remove("activ_btn_sort")}function sortAscendingAllProducts(l){var s=document.querySelector(".allProductsList");for(let t=0;t<s.children.length;t++)for(let e=t;e<s.children.length;e++)+s.children[t].getAttribute(l)>+s.children[e].getAttribute(l)&&insertAfter(replaceNode=s.replaceChild(s.children[e],s.children[t]),s.children[t])}function sortDescendingAllProducts(l){var s=document.querySelector(".allProductsList");for(let t=0;t<s.children.length;t++)for(let e=t;e<s.children.length;e++)+s.children[t].getAttribute(l)<+s.children[e].getAttribute(l)&&insertAfter(replaceNode=s.replaceChild(s.children[e],s.children[t]),s.children[t])}function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}allProductBtn.addEventListener("click",showAllProduct),buttonSaveFilter.addEventListener("click",getCheckedCheckBoxes),filtersAvailabilityBtn.addEventListener("click",checkAvailability),document.getElementById("filters-minPriceBtn").oninput=function(){var e=document.getElementById("filters-minPriceBtn");document.getElementById("filters-minPriceValue").value=e.value},document.getElementById("filters-maxPriceBtn").oninput=function(){var e=document.getElementById("filters-maxPriceBtn");document.getElementById("filters-maxPriceValue").value=e.value},document.getElementById("ascendingAllProducts").addEventListener("click",()=>{sortAscendingAllProducts("data-priceAllProducts"),document.getElementById("ascendingAllProducts").classList.add("activ_btn_sort"),document.getElementById("descendingAllProducts").classList.remove("activ_btn_sort")}),document.getElementById("descendingAllProducts").addEventListener("click",()=>{sortDescendingAllProducts("data-priceAllProducts"),document.getElementById("descendingAllProducts").classList.add("activ_btn_sort"),document.getElementById("ascendingAllProducts").classList.remove("activ_btn_sort")});
let arrCategories=[];async function getDataArr(){await fetch(API_CATEGORIES_LIST).then(e=>e.json()).then(e=>{arrCategories=e}),showCategories(),showCardDiscount()}function showCategories(){var t=document.querySelector(".menu_item");for(let e=0;e<arrCategories.length;e++)createElement("li",{"data-category":e,className:"item"},{click:showProducts},arrCategories[e].name,t);var a=document.querySelector(".fooret_list");for(let e=0;e<arrCategories.length;e++)createElement("li",{"data-category":e},{click:showProducts},arrCategories[e].name,a);var e=document.querySelector("._about");createElement("li",null,{click:showAbout},"ABOUT",e),createElement("li",null,{click:showContacts},"CONTACTS",e)}function showAbout(){window.scrollTo(0,0),pageCleanup(),about.classList.remove("hidden")}function showContacts(){window.scrollTo(0,0),pageCleanup(),contacts.classList.remove("hidden")}function showProducts(e){window.scrollTo(0,0);for(let e=0;e<pageArr.length;e++)document.getElementById(pageArr[e]).classList.add("hidden");categoryBlock.classList.remove("hidden"),showFiltersCat();var t=e.target.getAttribute("data-category"),a=arrCategories[t].products,l=document.querySelector(".categories_card");l.innerHTML="";let c;for(let e=0;e<a.length;e++){c=0===a[e].availability?"is expected":"on sale";var r,n=a[e].discount,o=createElement("div",{id:e,className:arrCategories[t].name+" allProducts-card _mod_size","data-category":t,"data-price":a[e].price},null,null,l),n=(o.classList.add("allProducts-card"),o.classList.add("showAllProducts"),o.classList.add(a[e].color),createElement("span",{className:"allProductName"},null,a[e].name,o),createElement("img",{src:""+a[e].main_images,className:"allProductImg"},null,null,o),!0===a[e].sale?(r=Math.round(a[e].price-a[e].price*n/100),createElement("span",{className:"img_sale"},null,null,o).innerHTML=`<svg id="sale_img"xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>
                                      <span class="text_sale">-${n}%</span>`,createElement("span",{id:r,className:"allProductPrice _mod_discount"},null,r+" UAH",o)):createElement("span",{id:a[e].price,className:"allProductPrice"},null,a[e].price+" UAH",o),createElement("span",{id:"availability"+e,className:"allProductAvailability"},null,c,o),createElement("button",{type:"button",className:"allProduct_btn","data-category":t,"data-product":e},{click:showProductPage},"explore",o),document.getElementById(e));"is expected"===c&&(document.getElementById("availability"+e).classList.add("filter-notAviability"),n.classList.add("allProducts-card__notActive"))}breadcrumbsCategory(t,pageArr)}function breadcrumbsCategory(e,t){document.getElementById("breadcrumbsOne_cat").addEventListener("click",()=>{for(let e=0;e<t.length;e++)document.getElementById(t[e]).classList.add("hidden");document.getElementById("mainPage").classList.remove("hidden")});var a=document.getElementById("breadcrumbsTwo_cat");a.innerHTML=arrCategories[e].name,a.setAttribute("data-category",e),a.addEventListener("click",showProducts)}function sortAscending(a){var l=document.querySelector(".categories_card");for(let t=0;t<l.children.length;t++)for(let e=t;e<l.children.length;e++)+l.children[t].getAttribute(a)>+l.children[e].getAttribute(a)&&insertAfter(replaceNode=l.replaceChild(l.children[e],l.children[t]),l.children[t])}function sortDescending(a){var l=document.querySelector(".categories_card");for(let t=0;t<l.children.length;t++)for(let e=t;e<l.children.length;e++)+l.children[t].getAttribute(a)<+l.children[e].getAttribute(a)&&insertAfter(replaceNode=l.replaceChild(l.children[e],l.children[t]),l.children[t])}function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}function checkAvailabilityCat(){var e=document.getElementById("availabilityBtn_cat");if(e.classList.contains("activ_btn_sort")){e.classList.remove("activ_btn_sort");var t=document.getElementsByClassName("notAvailability");for(let e=0;e<t.length;e++)t[e].classList.remove("hiddenAllProducts")}else{e.classList.add("activ_btn_sort");var a=document.getElementsByClassName("allProducts-card__notActive");for(let e=0;e<a.length;e++)a[e].classList.add("hiddenAllProducts"),a[e].classList.add("notAvailability")}}function showFiltersCat(){var t=document.getElementById("fieldsetColor_cat"),a=(t.innerHTML="",["Black","Silver","White","Gold","Pink","Purple","Green","Gray","Blue","Yellow","Red","Chocolate","Brown","All_Color"]);for(let e=0;e<a.length;e++){var l=createElement("label",{className:"filters-form__label"},null,a[e],t);createElement("input",{className:"filters-form__color",name:"colorProduct",type:"checkbox",value:a[e]},null,null,l)}}function getCheckedCheckBoxesCat(){removeSort("ascending","descending","availabilityBtn_cat");var t=document.getElementsByClassName("allProducts-card");for(let e=0;e<t.length;e++)t[e].classList.remove("selectedColor"),t[e].classList.remove("hiddenAllProducts");var e=document.getElementsByClassName("filters-form__color"),a=e.length,l=findFilter(e,["Black","Silver","White","Golden","Pink","Purple","Green","Gray","Blue","Yellow","Red","Chocolate","Brown"],a),c=document.getElementsByClassName("showAllProducts");for(let t=0;t<c.length;t++)for(let e=0;e<l.length;e++)c[t].classList.contains(l[e])&&c[t].classList.add("selectedColor");for(let t=0;t<c.length;t++)for(let e=0;e<l.length;e++)c[t].classList.contains("selectedColor")||c[t].classList.add("hiddenAllProducts");var r=document.getElementById("filters-minPriceValue_cat"),n=[];if(0!=r.value){for(let e=0;e<t.length;e++)t[e].classList.contains("selectedColor")&&n.push(t[e]);for(let e=0;e<n.length;e++)Number(n[e].childNodes[2].id)<Number(r.value)&&(n[e].classList.add("hiddenAllProducts"),n[e].classList.remove("selectedColor"))}var o=document.getElementById("filters-maxPriceValue_cat"),s=[];if(0!=o.value){console.log(o.value);for(let e=0;e<t.length;e++)t[e].classList.contains("selectedColor")&&s.push(t[e]);for(let e=0;e<s.length;e++)Number(s[e].childNodes[2].id)>Number(o.value)&&(console.log(s[e].childNodes[2].id),s[e].classList.add("hiddenAllProducts"),s[e].classList.remove("selectedColor"))}}function showCardDiscount(){var t,a=[];for(t in arrCategories){var l=arrCategories[t].products;for(let e=0;e<l.length;e++)!0===l[e].sale&&(l[e].category=t,l[e].productId=e,a.push(l[e]))}for(var c=[];c.length<4;){var e=Math.ceil(Math.random()*a.length-1);c.includes(e)||c.push(e)}for(let e=0;e<c.length;e++){var r=a[c[e]].discount,r=Math.round(a[c[e]].price-a[c[e]].price*r/100),n=document.querySelector(".cards"),n=createElement("div",{className:"prodact_card_mod","data-category":a[c[e]].category,"data-product":a[c[e]].productId},{click:showProductPage},null,n),o=createElement("div",{className:"prodact_img"},null,null,n),o=(createElement("img",{alt:""+a[c[e]].name,"data-category":a[c[e]].category,"data-product":a[c[e]].productId,src:""+a[c[e]].main_images},null,null,o),createElement("div",{className:"prodact_text"},null,null,n));createElement("p",{className:"prodact_name","data-category":a[c[e]].category,"data-product":a[c[e]].productId},null,a[c[e]].name,o),createElement("p",{className:"prodact_about","data-category":a[c[e]].category,"data-product":a[c[e]].productId},null,`Color: ${a[c[e]].color}, Processor: ${a[c[e]].processor}, Memory: `+a[c[e]].memory,o),createElement("p",{className:"prodact_price","data-category":a[c[e]].category,"data-product":a[c[e]].productId},null,r+" UAH",o)}}getDataArr(),document.getElementById("ascending").addEventListener("click",()=>{sortAscending("data-price"),document.getElementById("ascending").classList.add("activ_btn_sort"),document.getElementById("descending").classList.remove("activ_btn_sort")}),document.getElementById("descending").addEventListener("click",()=>{sortDescending("data-price"),document.getElementById("descending").classList.add("activ_btn_sort"),document.getElementById("ascending").classList.remove("activ_btn_sort")}),document.getElementById("availabilityBtn_cat").addEventListener("click",()=>{checkAvailabilityCat()}),document.querySelector("#category_one").addEventListener("click",showProducts),document.querySelector("#category_two").addEventListener("click",showProducts),document.querySelector("#category_three").addEventListener("click",showProducts),document.querySelector("#category_four").addEventListener("click",showProducts),document.querySelector("#slider_btn").addEventListener("click",showProducts),document.querySelector("#btn_main_watch").addEventListener("click",showProducts),document.querySelector("#btn_main_phone").addEventListener("click",showProducts),document.querySelector("#btn_main_laptop").addEventListener("click",showProducts),document.getElementById("buttonSaveFilter_cat").addEventListener("click",getCheckedCheckBoxesCat),document.getElementById("filters-minPriceBtn_cat").oninput=function(){var e=document.getElementById("filters-minPriceBtn_cat");document.getElementById("filters-minPriceValue_cat").value=e.value},document.getElementById("filters-maxPriceBtn_cat").oninput=function(){var e=document.getElementById("filters-maxPriceBtn_cat");document.getElementById("filters-maxPriceValue_cat").value=e.value};
let buyerPrice,modalWindow=document.getElementById("modalWindow"),modalBtn=document.getElementById("modalBtn");function showShoppingCart(){pageCleanup();var e=document.getElementById("pageShoppingCart");e.classList.remove("hidden"),e.classList.add("container_slim"),breadcrumbsCart();const a=JSON.parse(localStorage.getItem("orderArr"))||[];var r=document.getElementById("orders");let o=0,l=0;m(),r.innerHTML="",document.getElementById("discount").innerHTML="";for(let n=0;n<a.length;n++){var c=createElement("div",{className:"cart-table__title"},null,null,r),d=(createElement("span",{className:"deleteBtn","data-delete":n},{click:i},"x",c),createElement("div",{className:"cart-table__order"},null,null,c));createElement("img",{src:a[n].img},null,null,d),createElement("span",null,null,a[n].name,d),createElement("span",{className:"cart-table__inform"},null,a[n].price+" UAN",c);let t=createElement("input",{className:"cart-table__input",type:"text",value:a[n].value,"data-in":n},null,null,c),l=createElement("span",{className:"cart-table__inform"},null,a[n].price*t.value+" UAN",c);t.onchange=function(e){product=e.target.getAttribute("data-in");e=JSON.parse(localStorage.getItem("orderArr"));0==t.value?(e.splice(product,1),0===e.length&&(countProduct=0),localStorage.setItem("orderArr",JSON.stringify(e)),o=0,showShoppingCart()):(l.innerHTML=a[n].price*t.value+"UAN",e[product].value=t.value,e[product].sum=a[n].price*t.value,localStorage.setItem("orderArr",JSON.stringify(e)),o=0),m()}}function i(e){deleteIndex=e.target.getAttribute("data-delete");e=JSON.parse(localStorage.getItem("orderArr"));e.splice(deleteIndex,1),0===e.length&&(countProduct=0),localStorage.setItem("orderArr",JSON.stringify(e)),showShoppingCart(),m()}function m(){l=0;var t=JSON.parse(localStorage.getItem("orderArr"));if(null===t)modalWindow.classList.remove("hidden"),document.getElementById("pageShoppingCart").classList.add("block_blurs"),modalBtn.addEventListener("click",()=>{document.getElementById("pageShoppingCart").classList.remove("block_blurs"),showAllProduct()});else{for(let e=0;e<t.length;e++)l+=t[e].sum;document.getElementById("totalPrice").innerHTML=l+" UAN",buyerPrice=l}}m(),document.getElementById("chekDiscount").addEventListener("click",function(){var e=document.getElementById("discount");0!=o||"hillel"!=e.value&&"Hillel"!=e.value||(e=.8*l,o++,document.getElementById("totalPrice").innerHTML=e.toFixed(2)+" UAN",buyerPrice=e.toFixed(2))})}function breadcrumbsCart(){var e=document.getElementById("breadcrumbsOneShopping");let t=["category","mainPage","oneItem","allProductPage","oneItem","pageShoppingCart"];e.addEventListener("click",()=>{for(let e=0;e<t.length;e++)document.getElementById(t[e]).classList.add("hidden");document.getElementById("mainPage").classList.remove("hidden")})}
let arrOrdersPersonalPage=[];async function getDataOrderArr(){await fetch(API_ORDERS_LIST).then(e=>e.json()).then(e=>{arrOrdersPersonalPage=e}),initialOrders()}getDataOrderArr(),localStorage.setItem("client",JSON.stringify(client));let clientInfoPage=JSON.parse(localStorage.getItem("client"));function initialOrders(){var e=document.querySelector(".person_info_block"),r=document.querySelector(".orders_block");r.innerHTML="",e.innerHTML="";for(const s in clientInfoPage)createElement("div",{className:"person_info"},null,"Name: "+client[s].name,e),createElement("div",{className:"person_info"},null,"Email: "+client[s].email,e),createElement("div",{className:"person_info"},null,"Phone number: "+client[s].phone,e);for(let e=0;e<arrOrdersPersonalPage.length;e++){var a=createElement("div",{className:"orders_block_info"},null,null,r);createElement("div",{className:"order_info"},null," Order # "+arrOrdersPersonalPage[e].order_number,a),createElement("div",{className:"order_info"},null," From "+arrOrdersPersonalPage[e].dateOrder,a),createElement("div",{className:"order_info _cost"},null,` Total cost: ${arrOrdersPersonalPage[e].totalCost} UAH`,a),createElement("div",{className:"order_done"},null,"DONE",a),createElement("div",{"data-orderInfo":arrOrdersPersonalPage[e].order_number,className:"order_svg",id:""+arrOrdersPersonalPage[e].id_order},{click:showProductsOrder},null,a).innerHTML=`<svg id=${arrOrdersPersonalPage[e].id_order} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg>`,createElement("div",{className:"orders_block_info_product",id:arrOrdersPersonalPage[e].order_number},null,null,a)}}function showProductsOrder(e){var a=e.target.getAttribute("id");const r=document.getElementById(a);if(null!==r&&!r.classList.contains("open_list")){e.target.innerHTML='<svg id="clear_order" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"/></svg>';for(let r=0;r<arrOrdersPersonalPage.length;r++)if(arrOrdersPersonalPage[r].id_order===a){var s=document.getElementById(arrOrdersPersonalPage[r].order_number);s.innerHTML="";for(let e=0;e<arrOrdersPersonalPage[r].products.length;e++){var o=arrOrdersPersonalPage[r].products[e];createElement("div",{className:"order_product"},{click:showDetailsOrder},null,s).innerHTML=`<div>Product #${e+1} <span class="product_det" id=${arrOrdersPersonalPage[r].products[e].id_product}>${o.name}</span></div>`}for(let e=0;e<arrOrdersPersonalPage[r].contacts.length;e++){var t=arrOrdersPersonalPage[r].contacts[e];createElement("div",{className:"order_contacts"},null,null,s).innerHTML=`<h3>CONTACT DETAILS</h3>
                                             <p>${t.name}, ${t.eMail}, ${t.phoneNumber}</p>
                                             <p>${t.country}, ${t.city}, ${t.street}, ${t.house}</p>`}}intervalId=setTimeout(()=>{r.classList.add("open_list")},0)}if(e.target.classList.contains("open_list")){clearTimeout(intervalId);for(let e=0;e<arrOrdersPersonalPage.length;e++)arrOrdersPersonalPage[e].id_order===a&&(document.getElementById(arrOrdersPersonalPage[e].order_number).innerHTML="");r.innerHTML=`<svg id=${a} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/></svg>`,intervalId=setTimeout(()=>{r.classList.remove("open_list")},0)}}function closeDetails(){document.querySelector("#details_order").classList.add("hidden"),document.querySelector("#personal_page").classList.remove("block_blurs")}function showDetailsOrder(e){var a=e.target.getAttribute("id"),s=document.querySelector(".order_more_info");document.querySelector("#personal_page").classList.add("block_blurs"),s.innerHTML="",document.querySelector("#details_order").classList.remove("hidden"),createElement("button",{className:"details_close",id:"details_close"},{click:closeDetails},"X",s);for(let r=0;r<arrOrdersPersonalPage.length;r++)for(let e=0;e<arrOrdersPersonalPage[r].products.length;e++)arrOrdersPersonalPage[r].products[e].id_product===a&&(console.log(arrOrdersPersonalPage[r].products[e]),createElement("div",{className:"orders_details_block"},null,null,s).innerHTML=`<p><span class="text_mod_order">Name:</span> ${arrOrdersPersonalPage[r].products[e].name} </p>
                                    <p><span class="text_mod_order">Price:</span> ${arrOrdersPersonalPage[r].products[e].price} UAH</p>
                                    <p><span class="text_mod_order">Color:</span> ${arrOrdersPersonalPage[r].products[e].color}</p>
                                    <p><span class="text_mod_order">Diagonal:</span> ${arrOrdersPersonalPage[r].products[e].diagonal}</p>
                                    <p><span class="text_mod_order">Processor:</span> ${arrOrdersPersonalPage[r].products[e].processor}</p>
                                    <p><span class="text_mod_order">Your comment:</span> ${arrOrdersPersonalPage[r].products[e].comment} </p>
                                    <p><span class="text_mod_order">Number of goods purchased:</span> ${arrOrdersPersonalPage[r].products[e].value}
                                    <p class="price_mod"><span class="text_mod_order _order_mod">Total cost:</span> ${arrOrdersPersonalPage[r].products[e].sum} UAH</p>`,createElement("img",{className:"orders_details_img",src:""+arrOrdersPersonalPage[r].products[e].main_images},null,null,s))}
const validate={formName:/[A-Za-z]{1,15}/,eMail:/^([A-Za-z0-9_-]+\.)*[A-Za-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/,phoneNumber:/^\+380\d{3}\d{2}\d{2}\d{2}$/,country:/[A-Za-z]{1,15}/,city:/[A-Za-z]{1,15}/,street:/[A-Za-z]{1,15}/,house:/[0-9]{1,3}/};function checkValidate(e){let t=!1;for(var r in validate){var a;validate[r].exec(e[r])||(r=document.getElementById(r),(a=document.createElement("span")).textContent="Change your info!",r.before(a),a.setAttribute("class","text-field__message"),t=!0)}return t}function defaultValue(){document.querySelectorAll("span.text-field__message").forEach(e=>e.remove())}const validators={name_contact:{regExp:/^[A-z][a-z]{1,}$/,error:"Name is incorrect"},tel:{regExp:/^\+380\d{3}\d{2}\d{2}\d{2}$/,error:"Incorrect phone number"},email_contact:{regExp:/^([A-Za-z0-9_-]+\.)*[A-Za-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/,error:"Email is incorrect"}},message=(document.getElementById("btn_form_contact").addEventListener("click",chekFormContacts),document.querySelector(".message"));function chekFormContacts(){var{name_contact:{value:e},tel:{value:t},email_contact:{value:r}}=document.forms[3].elements;validateContactForm({name_contact:e,tel:t,email_contact:r})&&(document.querySelector("#form_contacts_person").classList.add("hidden"),document.querySelector(".message_contacts").classList.remove("hidden"))}function validateContactForm(e){let t=0,r=0;for(var a in validators){var o,n=document.forms[3].elements[a];r++,(validators[a].regExp.test(e[a])?(t++,formRemoveError):((o=document.createElement("span")).textContent=validators[a].error,n.before(o),o.setAttribute("class","text-field__message mode__size"),"tel"===n.name&&o.setAttribute("class","text-field__message mode__size _telError"),formAddError))(n)}return t===r}function formAddError(e){e.classList.add("error")}function formRemoveError(e){e.classList.remove("error"),defaultValue()}
const confirmPage=document.getElementById("order");document.getElementById("confirm").addEventListener("click",userInfo),document.getElementById("checkout_btn").addEventListener("click",showOrderPage);let orderArr=JSON.parse(localStorage.getItem("orderArr"))||[];function showOrderPage(){var e=JSON.parse(localStorage.getItem("orderArr"))||[],t=document.getElementById("order_page"),r=document.getElementById("pageShoppingCart");const o=document.getElementById("product_order");o.innerHTML="",e.forEach(e=>{var t=createElement("tr",{className:"checked_product"},null,null,o);createElement("td",{className:"checked_product_text"},null," "+e.name,t),createElement("td",{className:"checked_product_text"},null,` ${e.price} X `+e.value,t)});e=createElement("tr",{className:"checked_total"},null,null,o);createElement("td",{className:"checked_total_text"},null,"TOTAL",e),createElement("td",{className:"checked_total_text"},null,buyerPrice+" $",e),t.classList.remove("hidden"),confirmPage.classList.remove("hidden"),r.className="hidden"}function userInfo(){orderArr=JSON.parse(localStorage.getItem("orderArr"));var e=document.getElementById("order_page"),t=document.getElementById("confirm_window"),r={formName:document.forms[4].elements.formName.value,eMail:document.forms[4].elements.eMail.value,phoneNumber:document.forms[4].elements.phoneNumber.value,country:document.forms[5].elements.country.value,city:document.forms[5].elements.city.value,street:document.forms[5].elements.street.value,house:document.forms[5].elements.house.value};if(defaultValue(),!checkValidate(r)){saveInfo(r),document.forms[4].reset(),document.forms[5].reset();var o={id_order:"order_"+Date.now(),order_number:Date.now(),dateOrder:(new Date).toLocaleDateString(),totalCost:buyerPrice,products:[],contacts:[{name:r.formName,eMail:r.eMail,phoneNumber:r.phoneNumber,country:r.country,city:r.city,street:r.street,house:r.house}]};for(let e=0;e<orderArr.length;e++){var n=document.querySelector("#comment").value;orderArr[e].id_product=""+o.id_order+orderArr[e].sum,orderArr[e].comment=n,o.products.push(orderArr[e])}fetch(API_ORDERS_LIST,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then(e=>console.log(e)),e.className="hidden",t.classList.remove("hidden"),confirmPage.classList.remove("hidden"),countProduct=0,localStorage.removeItem("orderArr")}}function saveInfo(e){var t=JSON.parse(localStorage.getItem("historyOrders"));null===t?localStorage.setItem("historyOrders",JSON.stringify([e])):(t.push(e),localStorage.setItem("historyOrders",JSON.stringify(t)))}document.getElementById("final_confirm_page").addEventListener("click",()=>{document.getElementById("confirm_window").className="hidden",confirmPage.className="hidden"});